/* Consistent sizing */
* { box-sizing: border-box; }

/* Background */
.bg-fixed.bg-lego{
  background:url("../images/legobg.jpeg") center/cover no-repeat;
}
.bg-fixed.bg-lego::after{
  content:""; position:absolute; inset:0;
  background:linear-gradient(to bottom, rgba(0,0,0,.30), rgba(0,0,0,.45));
  z-index:-1;
}

/* Top canvas (smaller search) */
.hero.hero-tight{ padding:24px 22px 16px; }
.hero.hero-tight h1{ margin-bottom:6px; }
.hero.hero-tight .toolbar{ margin-top:10px; gap:10px; }
.hero.hero-tight #search{
  height:36px; font-size:13px; padding:8px 12px; max-width:320px; width:100%;
}

/* Records header */
.records-head{
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 12px 6px 12px;
}
.records-head .left{ display:flex; align-items:center; gap:10px; }
.records-head .card-title{ font-weight:700; }
.tiny-links{
  display:flex; align-items:center; gap:12px; flex-wrap:wrap;
  font-size:12px;
}
.tiny-links a{ color:#374151; text-decoration:none; font-weight:600; opacity:.9; }
.tiny-links a:hover{ color:var(--brand); }
.tiny-links .count{ color:#6b7280; font-weight:600; }

/* Inner glass */
.glass-inner{
  background:var(--panel-weak);
  border:1px solid var(--glass-stroke);
  border-radius:calc(var(--radius) - 6px);
  padding:12px;
}

/* Buttons (compact) */
.btn{appearance:none;border:1px solid #e5e7eb;background:#ffffff;color:var(--ink);border-radius:8px;padding:7px 10px;font-weight:600;cursor:pointer;white-space:nowrap;font-size:12.5px}
.btn:hover{background:#f8fafc}
.btn-cta{background:var(--brand);border-color:var(--brand);color:#fff}
.btn-cta:hover{background:var(--brand-d)}
.btn-ghost{background:transparent}
.btn-danger{background:#dc2626;border-color:#dc2626;color:#fff}
.btn-sm{padding:5px 8px;font-size:11.5px;border-radius:7px}

/* Link-style buttons (e.g. “More”) */
.link-inline{
  appearance:none; background:transparent; border:0; padding:0;
  color:var(--brand); font-weight:600; cursor:pointer; font-size:12px;
}
.link-inline:hover{ text-decoration:underline; }

/* Inputs */
label{font-size:11.5px;color:#6b7280;display:block;margin:0 0 4px}
.req{color:#dc2626}
input[type="text"], input[type="url"], input[type="password"], select, textarea{
  width:100%; background:#fff; border:1px solid #e5e7eb; color:#0f172a;
  border-radius:8px; padding:10px 12px; outline:none; font:inherit;
  transition:.15s border-color,.15s box-shadow
}
input:focus, select:focus, textarea:focus{
  border-color:var(--brand);
  box-shadow:0 0 0 2px rgba(37,99,235,.15)
}
textarea{min-height:50px; resize:vertical}
.muted{color:#64748b; font-size:11.5px}

/* Table — no visible scrollbars */
.table-wrap{
  overflow-x:auto;
  scrollbar-width:none; -ms-overflow-style:none;
}
.table-wrap::-webkit-scrollbar{ display:none; }

table{width:100%;border-collapse:separate;border-spacing:0;table-layout:fixed}
th, td{
  border-bottom:1px solid #e5e7eb; padding:6px 8px; vertical-align:middle; background:rgba(255,255,255,.92);
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis; font-size:12.5px;
}
th{
  position:sticky; top:0; background:rgba(255,255,255,.98);
  font-size:12px; color:#475569; text-align:left; z-index:1
}
tbody tr:hover td{background:#f9fafb}

/* Action buttons: horizontal, never cut off */
.table-actions{ display:flex; gap:6px; align-items:center; justify-content:flex-start; flex-wrap:nowrap; }
td.actions{ overflow:visible; white-space:nowrap; }
th.actions, td.actions{ width:16% }    /* widened so both buttons fit */

/* Column widths (balanced to avoid cut-offs) */
th.cat, td.cat{width:9%}
th.phase, td.phase{width:7%}
th.activity, td.activity{width:12%}
th.outcome, td.outcome{width:18%}

/* Outcome clamp + expand */
td.outcome .outcome-text{
  display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden;
  white-space:normal;
}

/* Row expansion -> show full text everywhere in that row */
tr.row-expanded td{
  white-space:normal; overflow:visible; text-overflow:clip;
}
tr.row-expanded td.outcome .outcome-text{
  -webkit-line-clamp:unset; max-height:none;
}
/* Keep tier cells compact even when expanded */
tr.row-expanded td.tier{ white-space:nowrap; }

/* Tier columns */
th.tier-col{width:3.25%; text-align:center; white-space:nowrap; overflow:visible; text-overflow:clip;}
td.tier{width:3.25%; text-align:center; white-space:normal; overflow:visible; text-overflow:clip; padding:6px 4px}

/* Color-only LEGO bricks (no text/symbols) */
.brick{
  display:inline-block; width:22px; height:14px; border-radius:3px;
  border:1px solid #e5e7eb; box-shadow: inset 0 -1px 0 rgba(0,0,0,.08);
}
.brick.green{ background:#22c55e; }
.brick.orange{ background:#f59e0b; }
.brick.gray{ background:#94a3b8; }

/* ---------- FORMS: spacing + links-row (NEW) ---------- */

/* Give the Tier grid extra breathing room before the Links section */
.tier-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:16px}
@media (max-width:980px){.tier-grid{grid-template-columns:1fr 1fr}}
@media (max-width:640px){.tier-grid{grid-template-columns:1fr}}

/* 3-column layout for Label | URL | Remove */
.links-row{
  display:grid;
  grid-template-columns: 160px 1fr 90px;
  gap:10px;
  align-items:end;   /* aligns button baseline with inputs */
}
.links-row .btn{ width:100%; }

/* Login overlay + modals */
.gate{
  position:fixed; inset:0;
  background:linear-gradient(to bottom, rgba(0,0,0,.35), rgba(0,0,0,.55));
  display:flex; align-items:center; justify-content:center; z-index:2000;
  padding:24px; backdrop-filter: blur(4px);
}
.gate-card.panel{
  width:100%; max-width: 520px; border-radius: calc(var(--radius) + 6px);
  padding: 22px 22px 18px;
}
.gate-header h2{ margin: 0 0 6px; font-size: 20px; font-weight: 800; color: #0f172a; }
.gate-header .muted{ margin: 0 0 16px; }
.gate-form{ display:grid; gap:14px; }
.gate-form .field{ display:flex; flex-direction:column; gap:6px; }
.gate-form label{ font-size:12.5px; color:#475569; }
.gate-form input{ height: 44px; font-size: 14px; }
.gate-form .actions{ display:flex; justify-content:flex-end; margin-top:6px; }
.gate-form .btn-cta{ height: 42px; padding: 0 16px; }

.modal-overlay{
  position:fixed; inset:0; background:rgba(15,23,42,.45);
  display:none; align-items:center; justify-content:center; padding:16px; z-index:3000
}
.modal.panel{
  background:var(--panel); border:1px solid var(--glass-stroke); border-radius:var(--radius);
  box-shadow:var(--shadow); backdrop-filter:blur(10px);
  max-width:1200px; width:calc(100% - 32px); max-height:92vh; overflow:auto
}
.modal-header{
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  padding:12px 14px; border-bottom:1px solid var(--glass-stroke)
}
.modal-title{font-weight:800;font-size:13px}
.modal-body{padding:12px 14px}
.modal-footer{
  display:flex; gap:8px; justify-content:flex-end;
  padding:12px 14px; border-top:1px solid var(--glass-stroke)
}

/* Toast + details */
.toast{ position:fixed; bottom:16px; right:16px; background:#0f172a; color:#fff; padding:10px 12px; border-radius:8px; font-size:12px; opacity:.96; z-index:3500 }
.kv{display:grid;grid-template-columns:180px 1fr;gap:6px;margin:8px 0}
.kv .k{color:#475569}

/* Read-only tiers in Details modal (NEW) */
.tiers-readonly{ display:flex; flex-wrap:wrap; gap:8px; align-items:center; }
.tier-pill{ display:inline-flex; align-items:center; gap:6px; padding:4px 6px; border:1px solid #e5e7eb; border-radius:8px; background:#fff; font-size:12px; }

/* Active menu highlight */
.menu > li > a.active{ color:var(--brand); border-bottom:2px solid var(--brand); padding-bottom:4px; }
.submenu a.active{ background:rgba(37,99,235,.08); color:var(--brand); border-radius:8px; }

.modal-overlay[aria-hidden="true"] { display: none; }
.modal-overlay.open { display: block; } /* or flex, depending on your layout */

